{% extends "base.html" %}
{% block content %}

<!-- Search bar -->
<form class="transparent" action="{{url_for('search_pokemon') }}" method="POST">
    <div class="row center-align">
        <div class="col s2 search-button">
            <button type="submit" class="btn theme text-shadow">
                <i class="fas fa-search"></i>
            </button>
        </div>
        <div class="col s8">
            <div class="input-field">
                <input class="search-bar" type="text" name="query" id="query" autofocus>
                <label for="query">Search</label>
            </div>
        </div>
        <div class="col s2 search-button">
            <a href="{{ url_for('get_pokemon') }}" class="btn red text-shadow">
                <i class="far fa-times-circle"></i>
            </a>
        </div>
    </div>
</form>

{% if pokedex %}
{% for pokemon in pokedex %}
<div class="row card pokedex-entry theme">

    <!-- column 1 -->
    <div class="col s4 center-align">
        <img class="pokemon-img" src="{{ pokemon.img_src }}" alt="{{ pokemon.name }}" height="200"><br>

        <!-- edit/delete buttons -->
        <div class="row pokedex-under-img">
            <div class="col s4 center-align">
                {% if session["user"] == pokemon.created_by %}
                <a href="{{ url_for('edit_pokemon', dex_id=pokemon._id) }}"
                    class="waves-effect waves-light btn-small grey">EDIT</a>
                {% endif %}
            </div>
            <div class="col s4 pokedex-id center-align"><strong>No. {{ pokemon.dex_id }}</strong></div>
            <div class="col s4 center-align">
                {% if session["user"] == pokemon.created_by %}
                <a href="{{ url_for('delete_pokemon', dex_id=pokemon._id) }}"
                    class="waves-effect waves-light btn-small red">DELETE</a>
                {% endif %}
            </div>
        </div>

    </div>

    <!-- column 2 -->
    <div class="col s4">
        <br>

        <!-- name and species-->
        <h4 class="center-align">{{ pokemon.name|upper }}</h4>
        <h6 class="center-align"><em>{{ pokemon.species|capitalize }} Pokemon</em></h6>
        <br>
        <!-- type(s)-->
        <form class="row center-align" method="POST" action="{{ url_for('search_pokemon') }}">
            {% if not pokemon.type[1] %}
            <div class="col s12 pokemon-type">
                <input class="btn btn-type type-{{ pokemon.type[0] }}" id="query" name="query" type="submit"
                    value="{{ pokemon.type[0]|upper }}">
            </div>
            {% else %}
            <div class="col s6 pokemon-type">
                <input class="btn btn-type type-{{ pokemon.type[0] }}" id="query" name="query" type="submit"
                    value="{{ pokemon.type[0]|upper }}">
            </div>
            <div class="col s6 pokemon-type">
                <input class="btn btn-type type-{{ pokemon.type[1] }}" id="query" name="query" type="submit"
                    value="{{ pokemon.type[1]|upper }}">
            </div>
            {% endif %}
        </form>
    </div>

    <!-- column 3 -->
    <div class="col s4 center-align">
        <div class="row">
            <br>

            <!-- height -->
            <div class="col s6">
                <h6><i class="fas fa-arrows-alt-v"></i>{{ pokemon.height[0] }}'{{ pokemon.height[1] }}"</h6>
            </div>

            <!-- weight -->
            <div class="col s6">
                <h6><i class="fas fa-weight-hanging"></i>{{ pokemon.weight }} lb</h6>
            </div>

        </div>
        <!-- description -->
        <div class="row">
            <p>{{ pokemon.desc }}</p>
        </div>
        <!-- <div class="row"><em>by {{ pokemon.created_by }}</em></div> -->
        <!-- rating -->
        <!-- <h5 class="right-align">
                {{ pokemon.rating }}
                <i class="far fa-arrow-alt-circle-up"></i>
            </h5> -->
    </div>

</div>


{% endfor %}

{% endif %}

{% endblock %}